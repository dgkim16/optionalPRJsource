

[checkList]
- load Json file into script    DONE
- save Json file from script    DONE
- load Json file from server    don't
- send Json file to server      don't

- sort character objects
<< Review complexities and Operation times >>
- store character objects in BST                       Done
- store character objects in RBT                       Done
- store character objects in AVL        
- store character objects in 234 tree
- store characters by their closeness in Graph.
- 

<< create draft of Combat System >>
- 5 input parameters outside battle system :  map / ally party / enemy party / ally buff / enemy buff
- display enemy HP on their heads (UI, not 3d space)    DONE
- prevent enemy HP ui from covering characters (캐릭터 레이어를 위에 붙이기...? Render Pipeline...?)

- create class that explicitly only manages the 'Battle UIs'. Battle won't be saved or loaded, so possibily change this to static? ---- resolved by making it Monobehaviour
- set ult UI        DONE
- when using ult, insert ult-turn-object into rbt, OR change the game-turn mechanic such that...
    - 1:    when it is character turn, remove from the tree, then put it into a priority queue that contains what will be played this turn.
            after character plays the turn, pop from priority queue, reset BAV, and insert back into RBT.
    - 2: when ult toggle is pressed, insert the ult into current turn priority queue.
    - 3: currently the tree is traversed to update all the values of characters. Instead, 
- set skill UI
- perform action

- 행동 후 행동수치 미리보기
- 행동 후 상대 체력 미리보기
- 스킬 누르면 active 되고 해당 스킬의 타게팅모드로 전환
- 스킬 active 상태일시 버튼 larger & brighter

- 카메라 구도 설정 (현재 타게팅 된 애들이 전부 나오도록 + 현재 내 캐릭터 보이게)

- 버프 시스템 만지기

- placeholder 용으로 맵 제작

- compare RBT vs SkipList


2023 7 31, 2:22
어그로에 따라 스킬들의 default target을 정해두는 부분에서 멈춤.
스킬 유형에 따라 어그로 기준을 다르게 할것
(힐은 가장 체력 낮은 아군, 공격은 가장 나약한 부분, 등등)


애니메이션이 끝나면 event로 Battle 클라스의 isTurnOver 변수를 True로 변경해줘야함


CharacterBattle CompareTo mode
0(default) : bav
1 : HP
2 : base speed
3 : charID

Character CompareTo mode
0 : name
1(default) : charID
2 : level
3 : rank

Aggro by Character type
1   75      hunt(targets 1)         
2   75      erudition(targetall)    
3   100     harmony(utility,buff)   
4   100     nihility(dotdmg,debuff) 
5   100     abundance(heal,buff)    
6   125     destruction(highriskhighdmg,1or3target) 
7   150     preservation(tank,shield)   




1 수렵 (딜러)   75
2 지식 (유틸/서폿)  75
3 화합 (유틸)   100
4 공허 (지속딜러/cc)    100
5 풍요 (힐러)   100
6 파멸 (자해딜러)   125
7 보존 (탱커)   150


카메라 배치를 어떻게 해야할까???
- 캐릭터마다 레이어를 만들어주고, 특정 캐릭터 턴에 그 캐릭터 오른쪽에 있는 레이어들 rendering 에서 제외.
- target이 아군일경우 레이어 모두 on, 적군일경우 오른쪽 레이어 off

RBT 에서 찾아서 그 노드를 삭제하는 부분에서 걸리고있음.
Node와 Data를 따로 연결해주는 dictionary나 hashtable을 사용하면 해결 가능할듯 (해결!)

animator 전부 Dasom으로 통일하기


최종 데미지 = 기본 데미지 x 치명타 계수 x 피해 증가 계수 x 저항 계수 x 방어 계수 x 받는 피해 증가 계수 x 피해 감소 계수
final damage = 기본 x 치피 * 피증 * 저항 * 방어 * 받피증 * 피감
기본뎀 = (최종 공격력 x 스킬계수) + (최종 체력 x 체비례 데미지 보너스) + (최종 방어력 x 방비례 데미지 보너스)
치피 = (1 + 치명타 확률 x 치명타 피해)
피증 = 1 + (피해증가 수치 모두 합연산)
저항 = (1 - 저항성 + 저항관통)
    약점속성 = 0% 저항성
    일반속성 = 20% 저항성
    같은속성 = 40% 저항성
방어 = ( 레벨*10 + 200 ) / { (레벨*10 + 200)  + (적레벨*10+200) * (1-방무) }
받피증 = (1 + 받는 피해증가 합연산)
피감 = 강인성 있으면 0.9, 없으면 1.0

진짜 최종뎀 = 최종뎀 * 허약계수(디버프; [0,1])

시뮬 축복 버프는 곱연산

attribution
Song;Music by Bensound
License code: STEVGPKNYNB72BDH


4.21 todo
- Add queue system to turn
- Add char ult to queue 